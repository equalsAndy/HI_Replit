import{r as o,u as C,a as h,j as e,C as u,b as x,c as m,d as p,e as j,L as D,I as T,f as S,R,B as f,A as c,g as n}from"./index-Dq2MZ-TV.js";function I(){const[r,g]=o.useState(15),{toast:a}=C(),[d,i]=o.useState(0),{data:l,isLoading:b}=h({queryKey:["/api/starcard",d],staleTime:0}),{data:t,isLoading:v}=h({queryKey:["/api/flow-attributes",d],staleTime:0}),w=()=>{i(s=>s+1),a({title:"Reset Complete",description:`User ${r} data has been reset successfully!`})},y=async()=>{try{(await fetch("/api/flow-attributes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flowScore:54,attributes:[{name:"Detail-Oriented",score:100},{name:"Supportive",score:95},{name:"Thoughtful",score:90},{name:"Organized",score:85}]})})).ok?(a({title:"Success",description:"Created sample flow attributes data"}),i(N=>N+1)):a({title:"Error",description:"Failed to create sample flow attributes data",variant:"destructive"})}catch{a({title:"Error",description:"Failed to create sample flow attributes data",variant:"destructive"})}};return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8 text-center",children:"User Data Reset Test"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsxs(u,{className:"h-full",children:[e.jsxs(x,{children:[e.jsx(m,{children:"Reset User Data"}),e.jsx(p,{children:"This tool will reset all user data including star card assessments and flow attributes. Use with caution as this action cannot be undone."})]}),e.jsx(j,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{htmlFor:"userId",children:"User ID"}),e.jsx(T,{id:"userId",type:"number",value:r,onChange:s=>g(parseInt(s.target.value))})]})})}),e.jsxs(S,{className:"flex flex-col space-y-4 items-stretch",children:[e.jsxs("div",{className:"flex space-x-4 w-full",children:[e.jsx(R,{userId:r,onSuccess:w}),e.jsx(f,{variant:"outline",onClick:y,className:"flex-1",children:"Create Test Flow Data"})]}),e.jsx(f,{variant:"secondary",onClick:()=>i(s=>s+1),className:"w-full",children:"Refresh Data"})]})]})}),e.jsx("div",{children:e.jsxs(u,{className:"h-full",children:[e.jsxs(x,{children:[e.jsx(m,{children:"Current User Data"}),e.jsx(p,{children:"This shows the current data for the user from the database."})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Star Card Data"}),b?e.jsx("p",{children:"Loading..."}):!l||!l.success?e.jsx(c,{variant:"destructive",children:e.jsx(n,{children:"No star card data found"})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(l,null,2)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Flow Attributes Data"}),v?e.jsx("p",{children:"Loading..."}):!t||!t.success?e.jsx(c,{variant:"destructive",children:e.jsx(n,{children:"No flow attributes data found"})}):t.isEmpty?e.jsx(c,{children:e.jsx(n,{children:"Flow attributes are empty"})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(t,null,2)})})]})]})})]})})]})]})}export{I as default};
